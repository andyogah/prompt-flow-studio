<svg width="900" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="flowA" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.2" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:0.3" />
    </linearGradient>
    <linearGradient id="flowB" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:0.2" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:0.3" />
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
  </defs>
  
  <!-- User Request -->
  <rect x="50" y="50" width="120" height="50" rx="25" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="110" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d97706">USER</text>
  <text x="110" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#d97706">REQUEST</text>
  
  <!-- Arrow to Router -->
  <line x1="170" y1="75" x2="230" y2="75" stroke="#374151" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Traffic Router -->
  <rect x="250" y="35" width="120" height="80" rx="10" fill="#e5e7eb" stroke="#6b7280" stroke-width="2"/>
  <text x="310" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Traffic Router</text>
  <text x="310" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">50/50 Split</text>
  <text x="310" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#374151">A/B Assignment</text>
  
  <!-- Arrow to Flow A -->
  <line x1="310" y1="115" x2="250" y2="200" stroke="#3b82f6" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="270" y="165" font-family="Arial, sans-serif" font-size="11" fill="#3b82f6" font-weight="bold">50%</text>
  
  <!-- Arrow to Flow B -->
  <line x1="310" y1="115" x2="370" y2="200" stroke="#10b981" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="350" y="165" font-family="Arial, sans-serif" font-size="11" fill="#10b981" font-weight="bold">50%</text>
  
  <!-- Flow A -->
  <rect x="150" y="220" width="120" height="80" rx="10" fill="url(#flowA)" stroke="#3b82f6" stroke-width="2"/>
  <text x="210" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1d4ed8">FLOW A</text>
  <text x="210" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1d4ed8">(Original)</text>
  <text x="210" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1d4ed8">Baseline Version</text>
  
  <!-- Flow B -->
  <rect x="350" y="220" width="120" height="80" rx="10" fill="url(#flowB)" stroke="#10b981" stroke-width="2"/>
  <text x="410" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#059669">FLOW B</text>
  <text x="410" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#059669">(Variant)</text>
  <text x="410" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#059669">Optimized Version</text>
  
  <!-- Arrows to Evaluator -->
  <line x1="210" y1="300" x2="280" y2="350" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="410" y1="300" x2="340" y2="350" stroke="#10b981" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Quality Evaluator -->
  <rect x="250" y="370" width="140" height="60" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="320" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d97706">Quality Evaluator</text>
  <text x="320" y="410" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#d97706">‚Ä¢ Coherence Analysis</text>
  <text x="320" y="422" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#d97706">‚Ä¢ Performance Metrics</text>
  
  <!-- Arrow to Results -->
  <line x1="390" y1="400" x2="520" y2="400" stroke="#374151" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Results Section -->
  <rect x="540" y="300" width="320" height="200" rx="10" fill="#f9fafb" stroke="#d1d5db" stroke-width="2"/>
  <text x="700" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">STATISTICAL ANALYSIS</text>
  
  <!-- Metrics Boxes -->
  <rect x="560" y="340" width="140" height="40" rx="5" fill="#dbeafe" stroke="#3b82f6"/>
  <text x="630" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1d4ed8">Variant A</text>
  <text x="630" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1d4ed8">Coherence: 0.85</text>
  
  <rect x="720" y="340" width="140" height="40" rx="5" fill="#d1fae5" stroke="#10b981"/>
  <text x="790" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#059669">Variant B</text>
  <text x="790" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#059669">Coherence: 0.92</text>
  
  <!-- Winner Declaration -->
  <rect x="560" y="400" width="280" height="80" rx="10" fill="#dcfce7" stroke="#22c55e" stroke-width="3"/>
  <text x="700" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#15803d">üèÜ WINNER: VARIANT B</text>
  <text x="700" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#15803d">üìà +8.2% improvement</text>
  <text x="700" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#15803d">üìä p-value: 0.003</text>
  <text x="700" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#15803d">‚úÖ Statistically significant</text>
  
  <!-- Response Arrow back to user -->
  <path d="M 520 320 Q 450 280 380 240 Q 300 200 200 160 Q 150 140 110 120" 
        stroke="#22c55e" stroke-width="2" fill="none" stroke-dasharray="5,5" marker-end="url(#arrow)"/>
  <text x="300" y="190" font-family="Arial, sans-serif" font-size="10" fill="#22c55e" font-weight="bold">Winner promoted to production</text>
</svg>
